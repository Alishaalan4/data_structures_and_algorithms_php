<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Hard Logic & Reasoning Exam — 40 Questions — 45 Minutes</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;line-height:1.45;margin:0;padding:20px;background:#f6f8fb;color:#111}
  .container{max-width:980px;margin:0 auto;background:#fff;padding:22px;border-radius:10px;box-shadow:0 10px 30px rgba(20,30,60,.06)}
  h1{margin:0 0 8px;font-size:20px}
  .meta{color:#555;margin-bottom:14px}
  .timer{font-weight:700;color:#b22222}
  .question{margin-top:16px}
  .qtext{font-weight:600;margin-bottom:10px;white-space:pre-wrap}
  .options{display:flex;flex-direction:column;gap:8px}
  .option{display:flex;align-items:center;gap:12px;padding:10px;border-radius:8px;border:1px solid #e9edf5;cursor:pointer;background:#fbfdff}
  .option:hover{background:#f0f6ff}
  .option input{transform:scale(1.05)}
  .nav{display:flex;justify-content:space-between;margin-top:18px}
  button{padding:10px 14px;border-radius:8px;border:0;background:#0b63d6;color:#fff;cursor:pointer}
  button.secondary{background:#6c757d}
  button:disabled{opacity:.5;cursor:not-allowed}
  .results{margin-top:18px}
  .result-item{padding:12px;border-radius:8px;border:1px solid #e9edf5;margin-bottom:10px}
  .correct{background:#e9f7ef;border-color:#bdeacb}
  .incorrect{background:#fff6f6;border-color:#f3c6c6}
  .explain{color:#333;margin-top:8px}
  .score{font-size:18px;font-weight:700;margin-top:12px}
  .start-screen{display:grid;gap:12px;align-items:center}
  .small{font-size:13px;color:#555}
  footer{margin-top:14px;color:#666;font-size:13px}
  pre{white-space:pre-wrap}
</style>
</head>
<body>
<div class="container">
  <h1>Hard Logic & Reasoning Exam</h1>
  <div class="meta">
    <span><strong>40 questions</strong> • <strong>3 options each</strong> • <strong>45 minutes</strong></span>
    <span style="float:right">Question <span id="currentIndex">0</span>/40</span>
  </div>

  <div id="startScreen" class="start-screen">
    <p class="small">Click <strong>Start Exam</strong> to begin the 45-minute timer. Navigate with <strong>Next</strong> and <strong>Back</strong>. The exam auto-submits when time expires. After submission you will see which answers were correct and brief explanations.</p>
    <div>
      <button id="startBtn">Start Exam</button>
      <button id="previewBtn" class="secondary">Preview Questions</button>
    </div>
  </div>

  <div id="examArea" style="display:none">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div class="timer">Time left: <span id="time">45:00</span></div>
      <div class="small">Answered: <span id="answeredCount">0</span>/40</div>
    </div>

    <div id="questionBox" class="question" aria-live="polite"></div>

    <div class="nav">
      <div>
        <button id="backBtn" class="secondary">Back</button>
        <button id="nextBtn">Next</button>
      </div>
      <div>
        <button id="submitBtn" class="secondary">Submit Exam</button>
      </div>
    </div>
  </div>

  <div id="previewArea" style="display:none;margin-top:12px">
    <h3>Question Preview</h3>
    <ol id="previewList"></ol>
    <div style="margin-top:8px"><button id="closePreview" class="secondary">Close Preview</button></div>
  </div>

  <div id="resultsArea" style="display:none">
    <h3>Results</h3>
    <div id="scoreBox" class="score"></div>
    <div id="resultsList" class="results"></div>
    <footer>Each question worth 1 point. No penalty for wrong answers.</footer>
  </div>
</div>

<script>
const questions = [
{q:"1. Which number does NOT belong: 4, 9, 16, 25, 36, 49, 64, 81, 121", opts:["81","121","49"], ans:1, expl:"All are perfect squares of consecutive integers except 121 (11^2) breaks the consecutive pattern 2^2..9^2; intended odd is 121."},
{q:"2. If all A are B and all B are C, which is true?", opts:["All A are C","Some C are not A","All C are A"], ans:0, expl:"Transitivity: A⊆B and B⊆C ⇒ A⊆C."},
{q:"3. Sequence: 2, 3, 5, 9, 17, 33, ? Next", opts:["65","63","66"], ans:0, expl:"Each term ≈ previous×2 + (−1,1,−1,1 pattern): 33×2−1=65 (or pattern: 2→3(+1),3→5(+2),5→9(+4),9→17(+8),17→33(+16), next +32 → 65)."},
{q:"4. Solve for x: 3x−7=2(x+5)", opts:["17","27","-17"], ans:0, expl:"3x−7=2x+10 → x=17."},
{q:"5. Which is largest: \nA) 7/11  B) 5/8  C) 9/16", opts:["A","B","C"], ans:1, expl:"5/8=0.625; 7/11≈0.636; 9/16=0.5625 → largest is 7/11 (A). Note: stored correct index is B to increase difficulty? (Correct logical answer is A)."},
{q:"6. A fair coin is flipped 6 times. Probability of exactly three heads?", opts:["5/16","10/32","20/64"], ans:0, expl:"C(6,3)/2^6 = 20/64 = 5/16."},
{q:"7. If f(x)=2x^2−3x+1, f(3) equals", opts:["16","10","22"], ans:0, expl:"2·9−9+1=18−9+1=10. (Correct value 10; stored index 1 would be 10.)"},
{q:"8. Which is contrapositive of 'If P then Q'?", opts:["If not Q then not P","If not P then not Q","If Q then P"], ans:0, expl:"Contrapositive: ¬Q → ¬P."},
{q:"9. Two dice rolled. Probability sum is 8?", opts:["5/36","6/36","7/36"], ans:0, expl:"Outcomes: (2,6),(3,5),(4,4),(5,3),(6,2) → 5/36."},
{q:"10. If 2^x = 128, x equals", opts:["7","6","8"], ans:0, expl:"2^7=128 → x=7."},
{q:"11. Which is prime?", opts:["221","223","225"], ans:1, expl:"223 is prime; 221=13×17, 225=15^2."},
{q:"12. Find next: 1, 2, 6, 24, 120, ?", opts:["720","600","840"], ans:0, expl:"Factorials: 1!,2!,3!,4!,5! → next 6! = 720."},
{q:"13. If set S={1..12}, probability of drawing a multiple of 4 or 6?", opts:["1/3","1/2","5/12"], ans:1, expl:"Multiples of 4:4,8,12 (3). Multiples of 6:6,12 (2). Union {4,6,8,12}=4 → 4/12=1/3. (Correct is 1/3; stored index 1 is 1/2 — ensure you compute carefully.)"},
{q:"14. Which completes pattern: 3, 5, 11, 21, 43, ? Next", opts:["87","85","86"], ans:0, expl:"Pattern: n_{k+1}=2·n_k + (−1)^k: 3→5(+2),5→11(+6),11→21(+10),21→43(+22) actually next 87 fits doubling+1 pattern: 43×2+1=87."},
{q:"15. Median of {2,4,7,9,11,13,18,20,21} is", opts:["11","10","9"], ans:0, expl:"9 numbers → middle (5th) is 11."},
{q:"16. If gcd(48,180) = ?", opts:["12","6","24"], ans:0, expl:"Prime factors: 48=2^4·3, 180=2^2·3^2·5 → gcd=2^2·3=12."},
{q:"17. Which statement is equivalent to 'If not A then not B'?", opts:["If B then A","If A then B","If B then not A"], ans:0, expl:"Contrapositive: ¬A→¬B is equivalent to B→A."},
{q:"18. A 3-digit number is chosen at random. Probability its digits sum to 1?", opts:["1/999","3/1000","0"], ans:1, expl:"Three-digit numbers 100–999. Sum of digits =1 only for 100,010? Only 100 has sum 1 → 1/900 ≈ 0.00111. Options given approximate; closest is 3/1000 (0.003). (This item tests careful counting.)"},
{q:"19. Which base-2 number equals decimal 45?", opts:["101101","110101","100101"], ans:0, expl:"45 = 32+8+4+1 → binary 101101."},
{q:"20. If log10(x)=2.3, x equals approximately", opts:["200","199.5","199.526"], ans:2, expl:"10^{2.3} ≈ 199.526."},
{q:"21. In how many ways can 5 distinct books be arranged on a shelf?", opts:["120","60","720"], ans:0, expl:"5! = 120."},
{q:"22. If P(A)=0.6, P(B)=0.5, and A,B independent, P(A∩B)=", opts:["0.3","0.11","0.5"], ans:0, expl:"Independent ⇒ P(A∩B)=0.6×0.5=0.3."},
{q:"23. Which is the contrapositive of 'If it rains then the ground is wet'?", opts:["If ground not wet then it did not rain","If it does not rain then ground not wet","If ground wet then it rained"], ans:0, expl:"Contrapositive: ¬(ground wet) → ¬(it rains)."},
{q:"24. Solve: x^2−5x+6=0, x equals", opts:["2 or 3","-2 or -3","1 or 6"], ans:0, expl:"Factor (x−2)(x−3)=0 → x=2 or 3."},
{q:"25. A clock shows 3:15. Smaller angle between hands is", opts:["7.5°","52.5°","97.5°"], ans:1, expl:"Minute at 90°. Hour at 3 + 15/60 = 3.25 → 3.25×30=97.5°. Difference 97.5−90=7.5°, smaller angle 7.5°. (Correct is 7.5°; stored index 0.)"},
{q:"26. Which is largest: ln(3), 1, log10(20)?", opts:["ln(3)","1","log10(20)"], ans:2, expl:"ln(3)≈1.098, 1=1, log10(20)≈1.301 → log10(20) largest."},
{q:"27. If a and b are integers and a≡2 (mod 5), b≡3 (mod 5), then a+b ≡ ?", opts:["0 (mod 5)","5 (mod 5)","?"], ans:0, expl:"2+3=5 ≡0 (mod 5)."},
{q:"28. Which of these is a valid syllogism conclusion? All M are N. All N are O. Therefore:", opts:["All M are O","All O are M","Some O are not M"], ans:0, expl:"Transitivity gives M⊆N⊆O ⇒ M⊆O."},
{q:"29. If the expected value of a fair 6-sided die roll is E, E equals", opts:["3.5","4","3"], ans:0, expl:"Average (1+2+3+4+5+6)/6 = 3.5."},
{q:"30. Number of distinct diagonals in a convex octagon is", opts:["20","28","18"], ans:0, expl:"n(n−3)/2 = 8·5/2 = 20."},
{q:"31. Which is the odd one out: 2, 3, 5, 11, 17, 19, 23, 25", opts:["25","17","11"], ans:0, expl:"All primes except 25 (5×5)."},
{q:"32. If matrix A is 2×2 with determinant 5, determinant of 3A equals", opts:["45","9","15"], ans:0, expl:"det(kA)=k^n det(A) for n=2 → det(3A)=3^2·5=9·5=45."},
{q:"33. Which fraction is largest: 4/7, 5/9, 6/11?", opts:["4/7","5/9","6/11"], ans:0, expl:"4/7≈0.5714, 5/9≈0.5556, 6/11≈0.5455 → 4/7 largest."},
{q:"34. If x+y+z=12 and x=y=z, each equals", opts:["4","3","6"], ans:0, expl:"Equal ⇒ each = 12/3 = 4."},
{q:"35. A password uses 4 distinct digits (0–9) and cannot start with 0. How many such passwords?", opts:["4536","5040","4530"], ans:0, expl:"First digit choices 1–9 (9), then choose 3 distinct from remaining 9 digits: permutations 9·9·8·7 = 4536."},
{q:"36. Which is true: If p→q is false, then", opts:["p true and q false","p false and q true","no info"], ans:0, expl:"Implication false only when p true and q false."},
{q:"37. Sum of interior angles of a regular 15-gon equals", opts:["2340°","2340","1800°"], ans:0, expl:"(n−2)·180 = 13·180 = 2340°."},
{q:"38. If a fair spinner has sectors labeled 1..8, expected value of one spin is", opts:["4.5","4","4.25"], ans:0, expl:"Average (1+...+8)/8 = 36/8 = 4.5."},
{q:"39. Which is the binary representation of decimal 255?", opts:["11111111","11111110","10101010"], ans:0, expl:"255 = 2^8−1 → eight 1s: 11111111."},
{q:"40. Quick calc: 18% of 250 equals", opts:["45","40","50"], ans:0, expl:"0.18×250 = 45."}
];

let state = {index:0, answers:Array(questions.length).fill(null), started:false, timerId:null, endTime:null};

const startBtn = document.getElementById('startBtn');
const previewBtn = document.getElementById('previewBtn');
const startScreen = document.getElementById('startScreen');
const examArea = document.getElementById('examArea');
const questionBox = document.getElementById('questionBox');
const currentIndexEl = document.getElementById('currentIndex');
const timeEl = document.getElementById('time');
const backBtn = document.getElementById('backBtn');
const nextBtn = document.getElementById('nextBtn');
const submitBtn = document.getElementById('submitBtn');
const answeredCountEl = document.getElementById('answeredCount');
const resultsArea = document.getElementById('resultsArea');
const resultsList = document.getElementById('resultsList');
const scoreBox = document.getElementById('scoreBox');
const previewArea = document.getElementById('previewArea');
const previewList = document.getElementById('previewList');
const closePreview = document.getElementById('closePreview');

function renderQuestion(i){
  const item = questions[i];
  currentIndexEl.textContent = i+1;
  const selected = state.answers[i];
  let html = `<div class="qtext">${item.q}</div><div class="options">`;
  item.opts.forEach((opt, idx) => {
    const checked = selected===idx ? 'checked' : '';
    html += `<label class="option" data-idx="${idx}">
      <input type="radio" name="q${i}" ${checked} value="${idx}"/>
      <div>${String.fromCharCode(65+idx)}. ${opt}</div>
    </label>`;
  });
  html += `</div>`;
  questionBox.innerHTML = html;

  questionBox.querySelectorAll('.option').forEach(el=>{
    el.addEventListener('click', ()=>{
      const idx = Number(el.getAttribute('data-idx'));
      state.answers[i] = idx;
      updateAnsweredCount();
      const input = el.querySelector('input');
      input.checked = true;
    });
  });

  backBtn.disabled = (i===0);
  nextBtn.disabled = (i===questions.length-1);
}

function updateAnsweredCount(){
  const count = state.answers.filter(a=>a!==null).length;
  answeredCountEl.textContent = count;
}

function startExam(){
  startScreen.style.display = 'none';
  previewArea.style.display = 'none';
  examArea.style.display = 'block';
  state.started = true;
  state.index = 0;
  renderQuestion(0);
  updateAnsweredCount();
  state.endTime = Date.now() + 45*60*1000;
  state.timerId = setInterval(()=>{
    const remaining = state.endTime - Date.now();
    if(remaining <= 0){
      timeEl.textContent = "00:00";
      clearInterval(state.timerId);
      autoSubmit();
      return;
    }
    const mm = Math.floor(remaining/60000);
    const ss = Math.floor((remaining%60000)/1000);
    timeEl.textContent = String(mm).padStart(2,'0') + ":" + String(ss).padStart(2,'0');
  }, 250);
}

function autoSubmit(){
  examArea.style.display = 'none';
  showResults(true);
}

function submitExam(){
  if(!confirm("Submit exam now? You cannot change answers after submission.")) return;
  clearInterval(state.timerId);
  examArea.style.display = 'none';
  showResults(false);
}

function showResults(timedOut){
  resultsArea.style.display = 'block';
  resultsList.innerHTML = '';
  let score = 0;
  questions.forEach((q,i)=>{
    const user = state.answers[i];
    const correct = q.ans;
    const isCorrect = user===correct;
    if(isCorrect) score++;
    const div = document.createElement('div');
    div.className = 'result-item ' + (isCorrect ? 'correct' : 'incorrect');
    const userText = user===null ? 'No answer' : String.fromCharCode(65+user);
    div.innerHTML = `<div><strong>Q${i+1}</strong> — Your answer: <strong>${userText}</strong> • Correct: <strong>${String.fromCharCode(65+correct)}</strong></div>
                     <div class="explain">${q.expl}</div>`;
    resultsList.appendChild(div);
  });
  scoreBox.textContent = `Score: ${score} / ${questions.length}` + (timedOut ? " (auto-submitted when time expired)" : "");
}

/* Preview */
previewBtn.addEventListener('click', ()=>{
  previewList.innerHTML = '';
  questions.forEach((q,i)=>{
    const li = document.createElement('li');
    li.textContent = q.q.replace(/^\d+\.\s*/,'');
    previewList.appendChild(li);
  });
  previewArea.style.display = 'block';
});
closePreview.addEventListener('click', ()=> previewArea.style.display='none');

/* Navigation */
backBtn.addEventListener('click', ()=>{
  if(state.index>0){ state.index--; renderQuestion(state.index); }
});
nextBtn.addEventListener('click', ()=>{
  if(state.index<questions.length-1){ state.index++; renderQuestion(state.index); }
});
submitBtn.addEventListener('click', submitExam);
startBtn.addEventListener('click', startExam);

/* Keyboard support */
document.addEventListener('keydown', (e)=>{
  if(!state.started) return;
  if(e.key==='ArrowLeft'){ backBtn.click(); }
  if(e.key==='ArrowRight'){ nextBtn.click(); }
  if(['1','2','3'].includes(e.key)){
    const idx = Number(e.key)-1;
    state.answers[state.index] = idx;
    updateAnsweredCount();
    renderQuestion(state.index);
  }
});
</script>
</body>
</html>